<div *ngIf="currentUser; else loggedOut">
  <div class="bg-beige" *ngIf="!isAdmin">
    <div class="relative bg-green-accent md:pt-32 pb-32 pt-12">
      <div>
        <button class="btn-primary2" style="float: right; width: 10%; margin-top: -70px;" (click)="logout()">Log Out</button>
      </div>
      <p class="ml-3" style="font-size:26px; font-weight:800; color:white;">Here are some recommendations for you:</p>
    </div>
    <div class="col-md-12 -mt-20 list-group" *ngIf="orderList.length > 0" else empty>
      <app-recommendations-list></app-recommendations-list>
    </div>
    <div class="flex justify-between mt-2 pt-2" *ngFor="let order of orderList">
      <div class="list-group bg-gray-100 shadow-lg rounded-lg ml-3 flex justify-between p-2"
        style="width: 40%; height: 100px;">
        <strong> # {{ order.id }} </strong>
        <strong> Order tracking number: {{ order.orderTrackingNumber }}</strong>
        <strong> Value: {{ order.totalPrice | currency: 'EUR'}} </strong>
      </div>
    </div>
  </div>

  <!-- ADMIN PAGE -->
  <div class="bg-beige" *ngIf="isAdmin">
    <!-- Statistics -->
    <div class="relative bg-green-accent md:pt-32 pb-32 pt-12">
      <div class="buttons">
        <button class="btn btn-primary2" mat-raised-button (click)="openModalAddProduct()">Add product</button>
        <button class="btn btn-primary2" (click)="logout()">Log Out</button>
      </div>

      <div class="px-4 md:px-10 mx-auto w-full">
        <div>
          <div class="flex flex-wrap">
            <div class="w-full lg:w-6/12 xl:w-3/12 px-4">
              <app-card-stats statSubtitle="TRAFFIC" statTitle="350,897" statArrow="up" statPercent="3.48"
                statPercentColor="text-emerald-500" statDescripiron="Since last month" statIconName="far fa-chart-bar"
                statIconColor="bg-red-500"></app-card-stats>
            </div>
            <div class="w-full lg:w-6/12 xl:w-3/12 px-4">
              <app-card-stats statSubtitle="NEW USERS" statTitle="2,356" statArrow="down" statPercent="3.48"
                statPercentColor="text-red-500" statDescripiron="Since last week" statIconName="fas fa-chart-pie"
                statIconColor="bg-orange-500"></app-card-stats>
            </div>
            <div class="w-full lg:w-6/12 xl:w-3/12 px-4">
              <app-card-stats statSubtitle="SALES" statTitle="924" statArrow="down" statPercent="1.10"
                statPercentColor="text-orange-500" statDescripiron="Since yesterday" statIconName="fas fa-users"
                statIconColor="bg-pink-500"></app-card-stats>
            </div>
            <div class="w-full lg:w-6/12 xl:w-3/12 px-4">
              <app-card-stats statSubtitle="PERFORMANCE" statTitle="49,65%" statArrow="up" statPercent="12"
                statPercentColor="text-emerald-500" statDescripiron="Since last month" statIconName="fas fa-percent"
                statIconColor="bg-emerald-500"></app-card-stats>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Chart -->
    <div class="flex flex-wrap -mt-20">
      <div class="w-full xl:w-8/12 mb-12 xl:mb-0 px-4 ">
        <div class="relative flex flex-col min-w-0 break-words w-full mb-6 shadow-lg rounded bg-white">
          <div class="rounded-t mb-0 px-4 py-3 bg-transparent ">
            <div class="flex flex-wrap items-center">
              <div class="relative w-full max-w-full flex-grow flex-1">
                <h6 class="uppercase text-blueGray-400 mb-1 text-xs font-semibold">
                  Overview
                </h6>
                <h2 class="text-blueGray-700 text-xl font-semibold">Sales value</h2>
              </div>
            </div>
          </div>
          <div class="p-4 flex-auto ">
            <!-- Chart -->
            <div class="relative chart-wrapper " style="height: 350px">
              <canvas id="canvas">
                {{lineChart}}
              </canvas>
            </div>
          </div>
        </div>
      </div>

      <div class="w-full xl:w-4/12 px-4">
        <div class="relative flex flex-col min-w-0 break-words bg-white w-full mb-6 shadow-lg rounded">
          <div class="rounded-t mb-0 px-4 py-3 bg-transparent">
            <div class="flex flex-wrap items-center">
              <div class="relative w-full max-w-full flex-grow flex-1">
                <h6 class="uppercase text-blueGray-400 mb-1 text-xs font-semibold">
                  Performance
                </h6>
                <h2 class="text-blueGray-700 text-xl font-semibold">Total orders</h2>
              </div>
            </div>
          </div>
          <div class="p-4 flex-auto">

            <div class="relative" style="height: 350px">
              <canvas id="canvas2">{{barChart}}</canvas>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="col-md-12">
      <p style="font-size:26px; font-weight:800;">See what are your best products:</p>
      <app-recommendations-list></app-recommendations-list>
    </div>
  </div>
</div>
<ng-template #loggedOut>
  Please login.
</ng-template>